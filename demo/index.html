<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Flotsam</title>
  <link media="all" rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/sunburst.min.css">
  <style>
    @import "../dist/flotsam.css";

    *,
    *::before,
    *::after {
        margin: 0;
        padding: 0;
        box-sizing: inherit;
        touch-action: inherit;
    }

    *,
    *::before,
    *::after {
        box-sizing: inherit;
    }

    html {
      overflow-x: hidden;
      overflow-y: scroll;
      box-sizing: border-box;
      touch-action: manipulation;
      scroll-behavior: smooth;
      box-sizing: border-box;
    }

    body {
      display: flex;
      flex-direction: column;
      flex-wrap: nowrap;
      min-height: 100vh;
      font-family: var(--serif-font);
      font-size: 100%;
      font-kerning: normal;
      line-height: 1;
      text-rendering: optimizeLegibility;
      font-variant-ligatures: common-ligatures;
      font-feature-settings: "kern" on;
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
      color: #1a1a1a;
      background: #fff;
      font-family: SuisseIntl, Helvetica, Arial, sans-serif;
    }

    .f-h1 {
      font-weight: 500;
      font-size: 2rem;
      line-height: 1.2;
      letter-spacing: -0.02em;
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
    }

    @media screen and (min-width: 650px) {
      .f-h1 {
        font-size: 2.25rem;
        padding-top: 80px;
      }
    }

    @media screen and (min-width: 990px) {
      .f-h1 {
        font-size: 3rem;
        padding-top: 100px;
      }
    }

    .f-h2 {
      font-weight: 500;
      font-size: 1.25rem;
      line-height: 1.2;
      letter-spacing: -0.02em;
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
    }

    @media screen and (min-width: 990px) {
      .f- h2 {
        font-size: 1.75rem;
      }
    }
    @media screen and (min-width: 650px) {
      .f-h2 {
        font-size: 1.5rem;
      }
    }

    .f-body,
    input {
      font-size: 0.875rem;
      line-height: 1.7;
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
    }

    @media screen and (min-width: 650px) {
      .f-body,
      input {
        font-size: 1rem;
      }
    }

    header {
      padding: 12px 40px;
      border-bottom: 1px solid #000;
    }

    main {
      flex-grow: 1;
      padding: 60px 40px 0;
    }

    footer {
      margin-top: 60px;
      padding: 24px 40px;
      border-top: 1px solid #000;
    }

    header h1 {
      padding-top: 60px;
    }

    @media screen and (min-width: 650px) {
      header h1 {
        padding-top: 80px;
      }
    }

    @media screen and (min-width: 990px) {
      header h1 {
        padding-top: 100px;
      }
    }

    header ul,
    footer ul {
      display: flex;
      flex-direction: row;
    }

    header li,
    footer li {
      margin-top: 20px;
      list-style-type: none;
    }

    header li:first-child,
    footer li:first-child {
      margin-right: auto;
    }

    @media screen and (min-width: 544px) {
      header li,
      footer li {
        margin-top: 0;
        margin-right: 20px;
      }
    }

    header a,
    footer a {
      color: #1a1a1a;
      text-decoration: none;
    }

    header svg,
    footer svg {
      display: inline-block;
      vertical-align: text-bottom;
    }

    main h2:not(:first-child) {
      margin-top: 3.5rem;
      border-top: 1px solid #d9d9d9;
      padding-top: 3rem;
    }

    form {
      margin-top: 50px;
      padding: 20px;
      background: #f2f2f2;
    }

    fieldset {
      border: 0 none;
    }

    label {
      display: block;
    }

    input {
      width: 100%;
      margin-top: 8px;
      padding: 2px 8px;
    }

    .input-container {
      position: relative;
    }

    pre,
    code {
      margin-top: 0;
      padding: 0;
      font-family: "Lucida Console", Courier, monospace;;
      font-size: 0.875rem;
      line-height: 1.2;
      font-weight: 400;
    }

    pre {
      display: block;
    }

    code {
      display: inline-block;
      background-color: #ddd;
      color: #000;
      vertical-align: middle;
      padding: 2px 6px;
    }

    pre code {
      display: block;
      background-color: #1a1a1a;
      color: #f8f8f8;
    }
  </style>
</head>
<body>
  <header>
    <ul class="f-body">
      <li><a href="https://area17.com/" target="_blank">AREA 17</a></li>
      <li>
        <a href="https://github.com/kylegoines/flotsam">
          GitHub
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 1024 1024" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" transform="scale(64)" fill="currentColor"></path></svg>
        </a>
      </li>
    </ul>
    <h1 class="f-h1">Flotsam</h1>
  </header>
  <main>
    <h2 class="f-h2">Static data</h2>
    <form novalidate>
      <fieldset>
        <div class="input-container">
          <label for="q1">Query</label>
          <input type="text" id="q1">
        </div>
      </fieldset>
    </form>
    <pre><code>const typeahead = new flotsam({
    el: document.querySelectorAll('input'),
    data: data, // where data is a list of 999 English words
});</code></pre>

    <h2 class="f-h2">Static, with options, translated to French</h2>
    <form novalidate>
      <fieldset>
        <div class="input-container">
          <label for="q2">Query</label>
          <input type="text" id="q2">
        </div>
      </fieldset>
    </form>
    <pre><code>const typeahead = new flotsam({
    el: document.querySelectorAll('input'),
    data: dataFrench, // where data is a list of 999 French words
    minChars: 3,
    inputPreview: false,
    hint: "Lorsque les résultats de la saisie semi-automatique sont disponibles, utilisez les flèches haut et bas pour passer en revue et entrez pour sélectionner. Utilisateurs d'appareils tactiles, explorez au toucher ou avec des gestes de balayage.",
    noResultsText: "Désolé, il n'y a pas de résultats pour ::term:: veuillez effectuer une nouvelle recherche",
  });</code></pre>

    <h2 class="f-h2">Fuzzy static data search using <code>getData</code> and <code>fuzzysort</code></h2>
    <form novalidate>
      <fieldset>
        <div class="input-container">
          <label for="q3">Query</label>
          <input type="text" id="q3">
        </div>
      </fieldset>
    </form>
    <pre><code>const typeahead = new flotsam({
    el: document.querySelectorAll('input'),
    getData: (textValue) => {
      const results = fuzzysort.go(textValue, data).map(result => result.target);
      return new Promise((resolve, reject) => resolve(results));
    },
});</code></pre>
    <p class="f-body">Uses <a href="https://github.com/farzher/fuzzysort" target="_blank">farzher/fuzzysort</a>. <br><strong>Note:</strong> <code>getData</code> requires you return a <code>Promise</code>.</p>

    <h2 class="f-h2">Dynamic <code>getData</code> via <code>Fetch</code></h2>
    <form novalidate>
      <fieldset>
        <div class="input-container">
          <label for="q4">Query</label>
          <input type="text" id="q4">
        </div>
      </fieldset>
    </form>
    <pre><code>let fetchController = new AbortController();
let fetchSignal = fetchController.signal;

const typeahead = new flotsam({
    el: document.querySelectorAll('input'),
    getData: (textValue) => {
      fetchController.abort();
      fetchController = new AbortController();
      fetchSignal = fetchController.signal;

      const url = new URL('http://fakejsonendpoints.dev.area17.com/api/autocomplete.php');
      const params = {
        q: textValue,
      };
      url.search = new URLSearchParams(params).toString();

      return fetch(
        url,
        {
          method: 'get',
          signal: fetchSignal,
          headers: {
            "Content-Type": "application/json",
            "Accept": "application/json",
            "X-Requested-With": "XMLHttpRequest",
          }
        }
      )
      .then(response => {
        try {
          return response.json();
        } catch(error) {
          console.log('json error:', error, response);
        }
      })
      .then(data => {
        // return data arr
        return data;
      })
      .catch(error => {
        console.log('fetch error:', error);
        return [];
      });
    },
});</code></pre>

  </main>
  <footer>
    <ul>
      <li><a href="https://area17.com/" target="_blank">Copyright &copy; AREA 17</a></li>
      <li>
        <a href="https://github.com/kylegoines/flotsam">
          GitHub
          <svg class="inline-block align-text-bottom" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 1024 1024" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z" transform="scale(64)" fill="currentColor"></path></svg>
        </a>
      </li>
    </ul>
  </footer>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/fuzzysort@2.0.4/fuzzysort.min.js"></script>
  <script>
    (async () => {
      const { default: flotsam } = await import("../dist/flotsam.modern.js");

      const data = ['ability','able','about','above','accept','according','account','across','act','action','activity','actually','add','address','administration','admit','adult','affect','after','again','against','age','agency','agent','ago','agree','agreement','ahead','air','all','allow','almost','alone','along','already','also','although','always','American','among','amount','analysis','and','animal','another','answer','any','anyone','anything','appear','apply','approach','area','argue','arm','around','arrive','art','article','artist','as','ask','assume','at','attack','attention','attorney','audience','author','authority','available','avoid','away','baby','back','bad','bag','ball','bank','bar','base','be','beat','beautiful','because','become','bed','before','begin','behavior','behind','believe','benefit','best','better','between','beyond','big','bill','billion','bit','black','blood','blue','board','body','book','born','both','box','boy','break','bring','brother','budget','build','building','business','but','buy','by','call','camera','campaign','can','cancer','candidate','capital','car','card','care','career','carry','case','catch','cause','cell','center','central','century','certain','certainly','chair','challenge','chance','change','character','charge','check','child','choice','choose','church','citizen','city','civil','claim','class','clear','clearly','close','coach','cold','collection','college','color','come','commercial','common','community','company','compare','computer','concern','condition','conference','Congress','consider','consumer','contain','continue','control','cost','could','country','couple','course','court','cover','create','crime','cultural','culture','cup','current','customer','cut','dark','data','daughter','day','dead','deal','death','debate','decade','decide','decision','deep','defense','degree','Democrat','democratic','describe','design','despite','detail','determine','develop','development','die','difference','different','difficult','dinner','direction','director','discover','discuss','discussion','disease','do','doctor','dog','door','down','draw','dream','drive','drop','drug','during','each','early','east','easy','eat','economic','economy','edge','education','effect','effort','eight','either','election','else','employee','end','energy','enjoy','enough','enter','entire','environment','environmental','especially','establish','even','evening','event','ever','every','everybody','everyone','everything','evidence','exactly','example','executive','exist','expect','experience','expert','explain','eye','face','fact','factor','fail','fall','family','far','fast','father','fear','federal','feel','feeling','few','field','fight','figure','fill','film','final','finally','financial','find','fine','finger','finish','fire','firm','first','fish','five','floor','fly','focus','follow','food','foot','for','force','foreign','forget','form','former','forward','four','free','friend','from','front','full','fund','future','game','garden','gas','general','generation','get','girl','give','glass','go','goal','good','government','great','green','ground','group','grow','growth','guess','gun','guy','hair','half','hand','hang','happen','happy','hard','have','he','head','health','hear','heart','heat','heavy','help','her','here','herself','high','him','himself','his','history','hit','hold','home','hope','hospital','hot','hotel','hour','house','how','however','huge','human','hundred','husband','I','idea','identify','if','image','imagine','impact','important','improve','in','include','including','increase','indeed','indicate','individual','industry','information','inside','instead','institution','interest','interesting','international','interview','into','investment','involve','issue','it','item','its','itself','job','join','just','keep','key','kid','kill','kind','kitchen','know','knowledge','land','language','large','last','late','later','laugh','law','lawyer','lay','lead','leader','learn','least','leave','left','leg','legal','less','let','letter','level','lie','life','light','like','likely','line','list','listen','little','live','local','long','look','lose','loss','lot','love','low','machine','magazine','main','maintain','major','majority','make','man','manage','management','manager','many','market','marriage','material','matter','may','maybe','me','mean','measure','media','medical','meet','meeting','member','memory','mention','message','method','middle','might','military','million','mind','minute','miss','mission','model','modern','moment','money','month','more','morning','most','mother','mouth','move','movement','movie','Mr','Mrs','much','music','must','my','myself','name','nation','national','natural','nature','near','nearly','necessary','need','network','never','new','news','newspaper','next','nice','night','no','none','nor','north','not','note','nothing','notice','now','not','number','occur','of','off','offer','office','officer','official','often','oh','oil','ok','old','on','once','one','only','onto','open','operation','opportunity','option','or','order','organization','other','others','our','out','outside','over','own','owner','page','pain','painting','paper','parent','part','participant','particular','particularly','partner','party','pass','past','patient','pattern','pay','peace','people','per','perform','performance','perhaps','period','person','personal','phone','physical','pick','picture','piece','place','plan','plant','play','player','PM','point','police','policy','political','politics','poor','popular','population','position','positive','possible','power','practice','prepare','present','president','pressure','pretty','prevent','price','private','probably','problem','process','produce','product','production','professional','professor','program','project','property','protect','prove','provide','public','pull','purpose','push','put','quality','question','quickly','quite','race','radio','raise','range','rate','rather','reach','read','ready','real','reality','realize','really','reason','receive','recent','recently','recognize','record','red','reduce','reflect','region','relate','relationship','religious','remain','remember','remove','report','represent','Republican','require','research','resource','respond','response','responsibility','rest','result','return','reveal','rich','right','rise','risk','road','rock','role','room','rule','run','safe','same','save','say','scene','school','science','scientist','score','sea','season','seat','second','section','security','see','seek','seem','sell','send','senior','sense','series','serious','serve','service','set','seven','several','sex','sexual','shake','share','she','shoot','short','shot','should','shoulder','show','side','sign','significant','similar','simple','simply','since','sing','single','sister','sit','site','situation','six','size','skill','skin','small','smile','so','social','society','soldier','some','somebody','someone','something','sometimes','son','song','soon','sort','sound','source','south','southern','space','speak','special','specific','speech','spend','sport','spring','staff','stage','stand','standard','star','start','state','statement','station','stay','step','still','stock','stop','store','story','strategy','street','strong','structure','student','study','stuff','style','subject','success','successful','such','suddenly','suffer','suggest','summer','support','sure','surface','system','table','take','talk','task','tax','teach','teacher','team','technology','television','tell','ten','tend','term','test','than','thank','that','the','their','them','themselves','then','theory','there','these','they','thing','think','third','this','those','though','thought','thousand','threat','three','through','throughout','throw','thus','time','to','today','together','tonight','too','top','total','tough','toward','town','trade','traditional','training','travel','treat','treatment','tree','trial','trip','trouble','true','truth','try','turn','TV','two','type','under','understand','unit','until','up','upon','us','use','usually','value','various','very','victim','view','violence','visit','voice','vote','wait','walk','wall','want','war','watch','water','way','we','weapon','wear','week','weight','well','west','western','what','whatever','when','where','whether','which','while','white','who','whole','whom','whose','why','wide','wife','will','win','wind','window','wish','with','within','without','woman','wonder','word','work','worker','world','worry','would','write','writer','wrong','yard','yeah','year','yes','yet','you','young','your','yourself'];

      const dataFrench = ['comme','je','son','que','il','était','pour','sur','sont','avec','ils','être','à','un','avoir','ce','à partir de','par','chaud','mot','mais','que','certains','est','il','vous','ou','eu','la','de','à','et','un','dans','nous','boîte','dehors','autre','étaient','qui','faire','leur','temps','si','volonté','comment','dit','un','chaque','dire','ne','ensemble','trois','vouloir','air','bien','aussi','jouer','petit','fin','mettre','maison','lire','main','port','grand','épeler','ajouter','même','terre','ici','il faut','grand','haut','tel','suivre','acte','pourquoi','interroger','hommes','changement','est allé','lumière','genre','de','besoin','maison','image','essayer','nous','encore','animal','point','mère','monde','près de','construire','soi','terre','père','tout','nouveau','travail','partie','prendre','obtenir','lieu','fabriqué','vivre','où','après','arrière','peu','seulement','tour','homme','année','est venu','montrer','tous','bon','moi','donner','notre','sous','nom','très','par','juste','forme','phrase','grand','penser','dire','aider','faible','ligne','différer','tour','la cause','beaucoup','signifier','avant','déménagement','droit','garçon','vieux','trop','même','elle','tous','là','quand','jusqu’à','utiliser','votre','manière','sur','beaucoup','puis','les','écrire','voudrais','comme','si','ces','son','long','faire','chose','voir','lui','deux','a','regarder','plus','jour','pourrait','aller','venir','fait','nombre','son','aucun','plus','personnes','ma','sur','savoir','eau','que','appel','première','qui','peut','vers le bas','côté','été','maintenant','trouver','tête','supporter','propre','page','devrait','pays','trouvé','réponse','école','croître','étude','encore','apprendre','usine','couvercle','nourriture','soleil','quatre','entre','état','garder','œil','jamais','dernier','laisser','pensée','ville','arbre','traverser','ferme','dur','début','puissance','histoire','scie','loin','mer','tirer','gauche','tard','courir','tandis que','presse','proche','nuit','réel','vie','peu','nord','livre','porter','a pris','science','manger','chambre','ami','a commencé','idée','poisson','montagne','Arrêtez','une fois','base','entendre','cheval','coupe','sûr','regarder','couleur','face','bois','principal','ouvert','paraître','ensemble','suivant','blanc','enfants','commencer','eu','marcher','exemple','facilité','papier','groupe','toujours','musique','ceux','tous les deux','marque','souvent','lettre','jusqu’à ce que','mile','rivière','voiture','pieds','soins','deuxième','assez','plaine','fille','habituel','jeune','prêt','au-dessus','jamais','rouge','liste','bien que','sentir','parler','oiseau','bientôt','corps','chien','famille','direct','pose','laisser','chanson','mesurer','porte','produit','noir','court','chiffre','classe','vent','question','arriver','complète','navire','zone','moitié','rock','ordre','feu','sud','problème','pièce','dit','savait','passer','depuis','haut','ensemble','roi','rue','pouce','multiplier','rien','cours','rester','roue','plein','force','bleu','objet','décider','surface','profond','lune','île','pied','système','occupé','test','record','bateau','commun','or','possible','plan','place','sec','se demander','rire','mille','il ya','ran','vérifier','jeu','forme','assimiler','chaud','manquer','apporté','chaleur','neige','pneu','apporter','oui','lointain','remplir','est','peindre','langue','entre','unité','puissance','ville','fin','certain','voler','tomber','conduire','cri','sombre','machine','Note','patienter','plan','figure','étoile','boîte','nom','domaine','reste','correct','capable','livre','Terminé','beauté','entraînement','résisté','contenir','avant','enseigner','semaine','finale','donné','vert','oh','rapide','développer','océan','chaud','gratuit','minute','fort','spécial','esprit','derrière','clair','queue','produire','fait','espace','entendu','meilleur','heure','mieux','vrai','pendant','cent','cinq','rappeler','étape','tôt','tenir','ouest','sol','intérêt','atteindre','rapide','verbe','chanter','écouter','six','table','Voyage','moins','matin','dix','simple','plusieurs','voyelle','vers','guerre','poser','contre','modèle','lent','centre','amour','personne','argent','servir','apparaître','route','carte','pluie','règle','gouverner','tirer','froid','avis','voix','énergie','chasse','probable','lit','frère','œuf','tour','cellule','croire','peut-être','choisir','soudain','compter','carré','raison','longueur','représenter','art','sujet','région','taille','varier','régler','parler','poids','général','glace','question','cercle','paire','inclure','fracture','syllabe','feutre','grandiose','balle','encore','vague','tomber','cœur','h','présent','lourd','danse','moteur','position','bras','large','voile','matériel','fraction','forêt','s’asseoir','course','fenêtre','magasin','été','train','sommeil','prouver','seul','jambe','exercice','mur','capture','monture','souhaiter','ciel','conseil','joie','hiver','sat','écrit','sauvage','instrument','conservé','verre','herbe','vache','emploi','bord','signe','visite','passé','doux','amusement','clair','gaz','temps','mois','million','porter','finition','heureux','espoir','fleur','vêtir','étrange','disparu','commerce','mélodie','voyage','bureau','recevoir','rangée','bouche','exact','symbole','mourir','moins','difficulté','cri','sauf','écrit','semence','ton','joindre','suggérer','propre','pause','dame','cour','augmenter','mauvais','coup','huile','sang','toucher','a augmenté','cent','mélanger','équipe','fil','coût','perdu','brun','porter','jardin','égal','expédié','choisir','est tombé','s’adapter','débit','juste','banque','recueillir','sauver','contrôle','décimal','oreille','autre','tout à fait','cassé','cas','milieu','tuer','fils','lac','moment','échelle','fort','printemps','observer','enfant','droit','consonne','nation','dictionnaire','lait','vitesse','méthode','organe','payer','âge','section','robe','nuage','surprise','calme','pierre','minuscule','montée','frais','conception','pauvres','lot','expérience','bas','clé','fer','unique','bâton','plat','vingt','peau','sourire','pli','trou','sauter','bébé','huit','village','se rencontrent','racine','acheter','augmenter','résoudre','métal','si','pousser','sept','paragraphe','troisième','doit','en attente','cheveux','décrire','cuisinier','étage','chaque','résultat','brûler','colline','coffre-fort','chat','siècle','envisager','type','droit','peu','côte','copie','phrase','silencieux','haut','sable','sol','rouleau','température','doigt','industrie','valeur','lutte','mensonge','battre','exciter','naturel','vue','sens','capital','ne sera pas','chaise','danger','fruit','riche','épais','soldat','processus','fonctionner','pratique','séparé','difficile','médecin','s’il vous plaît','protéger','midi','récolte','moderne','élément','frapper','étudiant','coin','partie','alimentation','dont','localiser','anneau','caractère','insecte','pris','période','indiquer','radio','rayon','atome','humain','histoire','effet','électrique','attendre','os','rail','imaginer','fournir','se mettre d’accord','ainsi','doux','femme','capitaine','deviner','nécessaire','net','aile','créer','voisin','lavage','chauve-souris','plutôt','foule','blé','comparer','poème','chaîne','cloche','dépendre','viande','rub','tube','célèbre','dollar','courant','peur','vue','mince','triangle','planète','se dépêcher','chef','colonie','horloge','mine','lien','entrer','majeur','frais','recherche','envoyer','jaune','pistolet','permettre','impression','mort','place','désert','costume','courant','ascenseur','rose','arriver','maître','piste','mère','rivage','division','feuille','substance','favoriser','relier','poste','passer','corde','graisse','heureux','original','part','station','papa','pain','charger','propre','bar','proposition','segment','esclave','canard','instant','marché','degré','peupler','poussin','cher','ennemi','répondre','boisson','se produire','support','discours','nature','gamme','vapeur','mouvement','chemin','liquide','enregistrer','signifiait','quotient','dents','coquille','cou','oxygène','sucre','décès','assez','compétence','femmes','saison','solution','aimant','argent','merci','branche','rencontre','suffixe','particulièrement','figue','peur','énorme','sœur','acier','discuter','avant','similaire','guider','expérience','score','pomme','acheté','LED','pas','manteau','masse','carte','bande','corde','glissement','gagner','rêver','soirée','condition','alimentation','outil','total','de base','odeur','vallée','ni','double','siège','continuer','bloc','graphique','chapeau','vendre','succès','entreprise','soustraire','événement','particulier','accord','baignade','terme','opposé','femme','chaussure','épaule','propagation','organiser','camp','inventer','coton','né','déterminer','litre','neuf','camion','bruit','niveau','chance','recueillir','boutique','tronçon','jeter','éclat','propriété','colonne','molécule','sélectionner','mal','gris','répétition','exiger','large','préparer','sel','nez','pluriel','colère','revendication','continent'];

      const typeahead1 = new flotsam({
          el: document.querySelectorAll('input')[0],
          data: data,
      });

      const typeahead2 = new flotsam({
          el: document.querySelectorAll('input')[1],
          data: dataFrench,
          minChars: 3,
          inputPreview: false,
          hint: "Lorsque les résultats de la saisie semi-automatique sont disponibles, utilisez les flèches haut et bas pour passer en revue et entrez pour sélectionner. Utilisateurs d'appareils tactiles, explorez au toucher ou avec des gestes de balayage.",
          noResultsText: "Désolé, il n'y a pas de résultats pour ::term:: veuillez effectuer une nouvelle recherche",
      });

      const typeahead3 = new flotsam({
          el: document.querySelectorAll('input')[2],
          getData: (textValue) => {
            const results = fuzzysort.go(textValue, data).map(result => result.target);
            return new Promise((resolve, reject) => resolve(results));
          },
      });

      let fetchController = new AbortController();
      let fetchSignal = fetchController.signal;

      const typeahead4 = new flotsam({
          el: document.querySelectorAll('input')[3],
          getData: (textValue) => {
            fetchController.abort();
            fetchController = new AbortController();
            fetchSignal = fetchController.signal;

            const url = new URL('http://fakejsonendpoints.dev.area17.com/api/autocomplete.php');
            const params = {
              q: textValue,
            };
            url.search = new URLSearchParams(params).toString();

            return fetch(
              url,
              {
                method: 'get',
                signal: fetchSignal,
                headers: {
                  "Content-Type": "application/json",
                  "Accept": "application/json",
                  "X-Requested-With": "XMLHttpRequest",
                }
              }
            )
            .then(response => {
              try {
                return response.json();
              } catch(error) {
                console.log('json error:', error, response);
              }
            })
            .then(data => {
              // return data arr
              return data;
            })
            .catch(error => {
              console.log('fetch error:', error);
              return [];
            });
          },
      });

      document.querySelectorAll('form').forEach(form => {
        form.addEventListener('submit', e => {
          e.preventDefault();
        });
      });

      if (window.hljs) {
        hljs.highlightAll();
      }
    })();
  </script>
</body>
</html>
